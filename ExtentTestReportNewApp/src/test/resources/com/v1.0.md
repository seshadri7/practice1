T-CLOUD STORAGE API
===================

#### Authentication Signup

##### Signup user with specified email and password

POST /api/auth/register

###### Headers:

* `X-DeviceId` (*String*, **required**) -- DeviceId of the user. it must be serial number or imei  (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user
* `password` (*String*, **required**) -- Password of the user
* `realm` (*String*, **required**) -- Realm (default: "Smartron")
* `userId` (*String*, **required**) -- UserId of user ( same as email)
* `firstName` (*String*, **optional**) -- Firstname of the user
* `lastName` (*String*, **optional**) -- Lastname of the user
* `secondaryEmail` (*String*, **optional**) -- Secondary Email of the user
* `phoneNumber` (*String*, **optional**) -- Phone number of the user
* `addressLine1` (*String*, **optional**) -- addressLine1 of the user
* `addressLine2` (*String*, **optional**) -- AddressLine2 of the user
* `landmark` (*String*, **optional**) -- landmark of user address
* `city` (*String*, **optional**) -- city of user address
* `state` (*String*, **optional**) -- state of user address
* `country` (*String*, **optional**) -- country of user address
* `pinCode` (*String*, **optional**) -- Pincode of user address
* `profilePicEncodeFormat` (*String*, **optional**) -- Encoded format of user profile picture
* `profilePic` (*String*, **optional**) -- Profile picture of user

* `deviceId` (*String*, **optional**) -- Device id of device(serial number or imei)
* `serialNumber` (*String*, **optional**) -- Serial number of device
* `imei` (*String*, **optional**) -- Imei of device

`(any one of deviceId, serialNumber, imei mandatory)`

###### Response Success (application/json)

* `status` (*String*) -- Status of signup.


###### Example

{
  "status": "Registered Successfully"
}

###### Response Error (application/json)

* `status` (*String*) -- Status of signup.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    | Registered Successfully               |
| 400    | Error      |                                       |
| 403    | Error      | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |

#### Authentication Login

##### Login user with specified email and password

POST /api/auth/login

###### Headers:

* `X-DeviceId` (*String*, **required**) -- DeviceId of the user (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user
* `password` (*String*, **required**) -- Password of the user
* `realm` (*String*, **required**) -- Realm (default: "Smartron")

###### Response Success (application/json or application/octet-stream)

* `status` -- Status of login.
* `data` -- Data related to user.


###### Example

{
  'status': 'Login Successfull',
  'data': {
    'email': 'welcome2shebeer@gmail.com',
    'address': [],
    'creationDateTime': 1476261538
    }
}

###### Response Error (application/json)

* `status` -- Status of login.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Invalid username/password             |
| 500    | Error      | Internal Server Error                 |


#### Authentication Forgot Password

##### Forgot password of user with specified email

POST /api/auth/forgotpassword

###### Headers:

* `X-DeviceId` (*String*, **required**) -- DeviceId of the user (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `email` (*String*, **required**) -- Email of the registered user
* `realm` (*String*, **required**) -- Realm (default: "Smartron")

###### Response Success (application/json)

* `status` -- Status of forgot password

###### Example

{
  "status": "New password sent to email sample@gmail.com"
}

###### Response Error (application/json)

* `status` -- Status of signup.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    | Registered Successfully               |
| 400    | Error      |                                       |
| 403    | Error      | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |


#### Authentication Reset Password

##### Reset password of user with specified email and password

POST /api/auth/resetpassword

###### Headers:

* `X-DeviceId` (*String*, **required**) -- DeviceId of the user (for testing use : "NOSERIALNUMBER")
* `X-Authorization` (*String*, **required**) -- DeviceId of the user (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `oldPassword` (*String*, **required**) -- Old password of the user
* `newPassword` (*String*, **required**) -- New password of the user
* `email` (*String*, **required**) -- Email of the user

###### Response Success (application/json)

* `status` -- Status of signup.


###### Example

{
  "status": "Password changed successfully"
}

{
  'status': 'error',
  'error': 'Invalid old password'
}

###### Response Error (application/json)

* `status` -- Status of signup.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    | Registered Successfully               |
| 400    | Error      |                                       |
| 401    | Error      | Unauthorized                          |
| 403    | Error      | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |


#### Address Update

##### Update address of specified user

POST /api/user/contact/update

###### Headers:

* `X-` (*String*, **required**) -- DeviceId of the user. it must be serial number or imei  (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user
* `addressLine1` (*String*, **optional**) -- addressLine1 of the user
* `addressLine2` (*String*, **optional**) -- AddressLine2 of the user
* `landmark` (*String*, **optional**) -- landmark of user address
* `city` (*String*, **optional**) -- city of user address
* `state` (*String*, **optional**) -- state of user address
* `country` (*String*, **optional**) -- country of user address
* `pinCode` (*String*, **optional**) -- Pincode of user address
* `phoneNumber` (*String*, **optional**) -- Phone Number of user

###### Response Success (application/json)

* `status` -- Status of address update.


###### Example

{
  "status": "Address updated Successfully"
}

###### Response Error (application/json)

* `status` (*String*) -- Status of address update.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    | Address updated Successfully          |
| 400    | Error      |                                       |
| 403    | Error      | Please Check Your Payload/Headers     |
| 500    | Error      | Internal Server Error                 |


#### ProfilePic Update

##### Update profile picture of specified user

POST /api/user/profilepic/update

###### Headers:

* `X-DeviceId` (*String*, **required**) -- DeviceId of the user. it must be serial number or imei (for testing use : "NOSERIALNUMBER")

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user
* `profilePicEncodeFormat` (*String*, **optional**) -- Encoded format of user profile picture. default is 'base64'.
* `profilePic` (*String*, **optional**) -- Profile picture of user


###### Response Success (application/json)

* `status` (*String*) -- Status of profile picture update.


###### Example

{
  "status": "Profile picture updated Successfully"
}

###### Response Error (application/json)

* `status` (*String*) -- Status of profile picture update.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    | Profile picture updated Successfully  |
| 400    | Error      |                                       |
| 403    | Error      | Please Check Your Payload/Headers     |
| 500    | Error      | Internal Server Error                 |

#### Storage Resource Exists

##### Check whether the resource with specified content_hash exists or not.

POST /api/storage/res/exists

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `content_hash` (*String*, **required**) -- For files, it is sha512(contents) and for folders, it is 'folder_'+sha512(email + storage_path)
* `email` (*String*, **required**) -- Email id of the user  
* `metadata_hash` (*String*, **required**) -- MD5 hash(email + : +storage_path)
* `storage_path` (*String*, **required**) -- Storage path of the resource.

###### Response Success (application/json)

* `exists` (*String*) -- Status of Resource (true or false)
* `count` (*String*) -- If present, indicates where the resource belong to
* `data` (*Array[Object]*)  -- If present, contains array of resource entries

###### Example

    {
        'count': 'same_user',
        'data': [
            {
                'status': 'success',
                'res_type': 'file',
                'permissions': '0100644',
                'created_at': '2016-08-12T16:36:24',
                'file_version': '0',
                'modified_at': '2016-08-12T16:45:28',
                'res_name': 'sample.txt',
                'res_extension': 'text/plain',
                'content_hash': 'df476b7c949468706f518e7782359317aab12b90e61fb5aa52607e158da4644fbc95f3963306bda1fec32b2f0767d5364d2f0b115d29ced50cbd6c39704ad0ba',
                'metadata_hash': '12ddea39e204744494c5087e3907c4fd',
                'email': 'sample@gmail.com',
                'res_size': '17',
                'storage_path': '/sample.txt'
            }
        ],
        'exists': True
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 400    | Error      | Please check your payload             |                  
| 500    | Error      | Internal Server Error                 |                 




#### Storage Resource Meta Details

##### Get metadata of a resource.

GET /api/storage/res/meta

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)

###### Response Success (application/json)

* `status` (*String*) -- Status of Resource (true or false).
* `data` (*Object*) -- If present, contain resource meta data.

###### Example

    {
        'status': 'success',
        'data': {
            'status': 'success',
            'res_type': 'file',
            'permissions': '0100644',
            'created_at': '2016-08-12T16:36:24',
            'file_version': '0',
            'modified_at': '2016-08-12T16:45:28',
            'res_name': 'sample.txt',
            'res_extension': 'text/plain',
            'content_hash': 'df476b7c949468706f518e7782359317aab12b90e61fb5aa52607e158da4644fbc95f3963306bda1fec32b2f0767d5364d2f0b115d29ced50cbd6c39704ad0ba',
            'metadata_hash': '12ddea39e204744494c5087e3907c4fd',
            'email': 'sample@gmail.com',
            'res_size': '17',
            'storage_path': '/sample.txt'
        }
    }

###### Response Error (application/json)

* `status` (*String*) -- Error message

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |                 




#### Storage Resource Folder Details

##### Get list of resources in a folder for specified email and storage path

POST /api/storage/res/folder

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

+ `email` (*String*, **required**) -- Email id of the user  
+ `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)

###### Response Success (application/json)

+ `status` (*String*) -- Status of Resource (true or false).
+ `results` (*String*) -- Array of resource metadata.
+ `global_version` (*Number*) -- Global version.

###### Example
    {
        'status': 'success',
        'data': [
            {
                'status': 'success',
                'res_type': 'file',
                'permissions': '0100644',
                'created_at': '2016-08-12T16:36:24',
                'file_version': '0',
                'modified_at': '2016-08-12T16:45:28',
                'res_name': 'sample.txt',
                'res_extension': 'text/plain',
                'content_hash': 'df476b7c949468706f518e7782359317aab12b90e61fb5aa52607e158da4644fbc95f3963306bda1fec32b2f0767d5364d2f0b115d29ced50cbd6c39704ad0ba',
                'metadata_hash': '12ddea39e204744494c5087e3907c4fd',
                'email': 'sample@gmail.com',
                'res_size': '17',
                'storage_path': '/sample.txt'
            }
        ],
        'global_version': 2
    }

###### Response Error (application/json)

* `status` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  




#### Storage Resource Download

##### Get file contents with specified email and storage path

GET /api/storage/res/download

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)

###### Response Success (application/json or application/octet-stream)

* `status` -- Status of Resource (true or false).
* `results` -- Array of resource metadata.
   ------------------Or-------------------
* `file content` -- File Content as stream.

###### Example
    {
        'status': 'success',
        'data': [
            {
                'status': 'success',
                'res_type': 'file',
                'permissions': '0100644',
                'created_at': '2016-08-12T16:36:24',
                'file_version': '0',
                'modified_at': '2016-08-12T16:45:28',
                'res_name': 'sample.txt',
                'res_extension': 'text/plain',
                'content_hash': 'df476b7c949468706f518e7782359317aab12b90e61fb5aa52607e158da4644fbc95f3963306bda1fec32b2f0767d5364d2f0b115d29ced50cbd6c39704ad0ba',
                'metadata_hash': '12ddea39e204744494c5087e3907c4fd',
                'email': 'sample@gmail.com',
                'res_size': '17',
                'storage_path': '/sample.txt'
            }
        ]
    }

###### Response Error (application/json)

* `status` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  




#### Storage Resource Delete

##### Delete resource with specified email and storage path

DELETE /api/storage/res/delete

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `event_type` (*String*, **required**) -- Event type of the resource
* `file_version` (*Number*, **required**) -- Version of resource
* `global_version` (*Number*, **required**) -- Global version of client
* `content_hash` (*String*, **required**) -- Resource content_hash
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `res_type` (*String*, **required**) -- Resource type

###### Response Success (application/json or application/octet-stream)

* `status` -- Status of Delete

###### Example
    {
        'status': 'success',
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  





#### Storage Res Version Changelog

##### Get changelog of a particular Global version

POST /api/storage/res/version/changelog

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `global_version` (*Number*, **required**) -- Global version of client
* `lastKey` (*String*, **optional**) -- Resource changelog in json string format, default value is null.

###### Response Success (application/json or application/octet-stream)

* `status` (*String*)-- Status of get changelog
* `data` (*Object[String, Array]*) -- Contains changelog Array, User email, lastKey for pagination, Global version

###### Example
    {
        "status": "success",
        "data": {
            "lastKey": {
                "changelog": {
                    "S": "7:/cars/innova.jpg:0"
                },
                "email": {
                    "S": "sample@gmail.com"
                }
            },
            "results": [{
                "event_type": "created",
                "changelog": "7:/cars/camry.jpg:0",
                "email": "s@gmail.com"
            }, {
                "event_type": "created",
                "changelog": "7:/cars/beetle.jpg:0",
                "email": "s@gmail.com"
            }, {
                "event_type": "created",
                "changelog": "7:/cars/innova.jpg:0",
                "email": "s@gmail.com"
            }],
            "email": "sample@gmail.com",
            "global_version": "7"
        }
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  








#### Storage Resource Upload

##### Upload file

POST /api/storage/res/upload

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `content_hash` (*String*, **required**) -- For files, it is sha512(contents) and for folders, it is 'folder_'+sha512(email + storage_path)
* `created_at` (*String*, **required**) -- Resource creation time
* `email`  (*String*, **required**) -- Email id of the user  
* `event_type` (*String*, **required**) -- Event type of the resource
* `file_version` (*String*, **required**) -- Version of resource
* `metadata_hash` (*String*, **required**) -- MD5 hash(email + storage_path)
* `modified_at` (*String*, **required**) -- Resource modification time
* `permissions` (*String*, **required**) -- Resource permissions
* `res_extension` (*String*, **required**) -- Resource extension
* `res_name` (*String*, **required**) -- Resource name
* `res_size`(*String*, **required**)  -- Resource size
* `res_type`(*String*, **required**)  -- Resource type
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `contents` (*File*, **required**) -- Resource file content(Only applicable for file resources)
* `global_version` (*String*, **required**) -- Uploading Global version.

###### Response Success (application/json or application/octet-stream)

* `status` (*String*)-- Status of upload

###### Example
    {
        "status": "file is uploaded successfully",
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  




#### Storage File Metadata Update

##### Update File metadata

POST /api/storage/res/update

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `content_hash` (*String*, **required**) -- For files, it is sha512(contents) and for folders, it is 'folder_'+sha512(email + storage_path)
* `created_at` (*String*, **required**) -- Resource creation time
* `email`  (*String*, **required**) -- Email id of the user  
* `event_type` (*String*, **required**) -- Event type of the resource
* `file_version` (*String*, **required**) -- Version of resource
* `metadata_hash` (*String*, **required**) -- MD5 hash(email + storage_path)
* `modified_at` (*String*, **required**) -- Resource modification time
* `permissions` (*String*, **required**) -- Resource permissions
* `res_extension` (*String*, **required**) -- Resource extension
* `res_name` (*String*, **required**) -- Resource name
* `res_type`(*String*, **required**)  -- Resource type
* `res_size`(*String*, **required**)  -- Resource size
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `global_version` (*String*, **required**) -- Uploading Global version.

###### Response Success (application/json or application/octet-stream)

* `status` (*String*)-- Status of metadata update

###### Example
    {
        "status": "file meta is updated succesfully",
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 400    | Error      | Please check your payload             |
| 500    | Error      | Internal Server Error                 |  




#### Storage Folder Metadata Update/Create

##### Update Folder metadata

PUT /api/storage/res/folder

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `content_hash` (*String*, **required**) -- For files, it is sha512(contents) and for folders, it is 'folder_'+sha512(email + storage_path)
* `created_at` (*String*, **required**) -- Resource creation time
* `email`  (*String*, **required**) -- Email id of the user  
* `event_type` (*String*, **required**) -- Event type of the resource
* `file_version` (*String*, **required**) -- Version of resource
* `metadata_hash` (*String*, **required**) -- MD5 hash(email + storage_path)
* `modified_at` (*String*, **required**) -- Resource modification time
* `permissions` (*String*, **required**) -- Resource permissions
* `res_extension` (*String*, **required**) -- Resource extension
* `res_name` (*String*, **required**) -- Resource name
* `res_type`(*String*, **required**)  -- Resource type
* `res_size`(*String*, **required**)  -- Resource size
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `global_version` (*String*, **required**) -- Uploading Global version.

###### Response Success (application/json or application/octet-stream)

* `status` (*String*)-- Status of Folder Metadata update/create.

###### Example
    {
        "status": "folder meta is saved succesfully",
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 400    | Error      | Please check your payload             |
| 500    | Error      | Internal Server Error                 |  






#### Storage Resource Signature

##### Get file signature with specified email and storage path

GET /api/storage/res/sign

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email`  (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)

###### Response Success (application/json or application/octet-stream)

* `exists` (*String*) -- Status of Resource (false).
   ------------------Or-------------------
* `file content` (*File*)-- File Content as stream.

###### Example
    {
        "exists": "false",
    }

        Or

    {
        File content as octet-stream

    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 400    | Error      | Please check your payload             |
| 500    | Error      | Internal Server Error                 |  



#### Storage Resource Signature Upload

##### Upload file signature for specified email and storage path

POST /api/storage/res/sign/upload

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email`  (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `signature` (*File*, **required**) -- Resource file signature (Only applicable for file resources)

###### Response Success (application/json)

* `status` (*String*) -- Status of resource signature upload

###### Example
    {
        "status": "signature is uploaded succesfully",
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  



#### Storage Resource Delta Upload

##### Upload file delta for specified email and storage path

POST /api/storage/res/delta/upload

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email`  (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `delta` (*File*, **required**) -- Resource file delta (Only applicable for file resources)
* `global_version` (*String*, **required**) -- Uploading Global version.

###### Response Success (application/json)

* `status` (*String*) -- Status of resource delta upload

###### Example
    {
        "status": "delta file content is uploaded successfully",
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  




#### Storage Resource Delta Download

##### Download file delta for specified email and storage path

POST /api/storage/res/delta/download

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email`  (*String*, **required**) -- Email id of the user  
* `storage_path` (*String*, **required**) -- Resource storage path (relative to root folder of user)
* `signature` (*File*, **required**) -- Resource file signature (Only applicable for file resources)

###### Response Success (application/json or application/octet-stream)

* `file delta` -- File delta as stream.

###### Example
    {
        File delta as octet-stream
    }

###### Response Error (application/json)

* `status` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  




#### User Version Update

##### Update global version for specified email

POST /api/storage/user/version/update

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  

###### Response Success (application/json)

* `status` (*String*) -- Status of user global version update
* `global_version` (*String*, **optional**) -- Updated global version of user

###### Example
    {
        'status': 'delta file content is uploaded successfully',
        'global_version' : 3
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  



#### User Version Diff

##### Get global version difference array between client and server

GET /api/storage/user/version/diff

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `client_version` (*Number*, **required**) -- Global version of specific client of a user  

###### Response Success (application/json)

* `status` (*String*) -- Status of user global version update
* `result` (*Object*, **optional**) -- Object contains version difference between client and server and the latest version(server_version or client_version)

###### Example
    {
        'status': 'delta file content is uploaded successfully',
        'result': {
            'latest': 'server_version',
            'version_diff': [3, 4]
        }
    }

###### Response Error (application/json)

* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 500    | Error      | Internal Server Error                 |  





#### Resource Filter Search With pagination

##### Get all the resources with extension matching a string.

POST /api/storage/res/filter

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  
* `check_type` (*String*, **required**) -- Filter string( eg: `image`, `video`, `application`)
* `last_key` (*String*, **optional**) -- LastKey of previous server response.

###### Response Success (application/json)

* `status` (*String*) -- Status of propfind search
* `result` (*Object*, **optional**) -- result of search

###### Example
  {
    "status": "Contents Found",
    "result": {
      "file_data": [
        {
          "metadata_hash": "6647857ca72f7da6a9316d9100af2781",
          "res_extension": "image/jpeg",
          "res_size": "8116",
          "content_hash": "59d675b7501395306a09567f907bccee8ac6c055980ce4c71cde5cda3ccea376bc122d0db637627037c47e16df9195d8f35798e346e6bf01b504ec6b3d81f3c3",
          "modified_at": "2016-10-17T10:03:02",
          "created_at": "2016-10-17T10:03:02",
          "file_version": "0",
          "email": "shebeer.i.k@gmail.com",
          "status": "success",
          "res_type": "file",
          "res_name": "anim3.jpeg",
          "storage_path": "/anim3.jpeg",
          "permissions": "0100644",
          "thumbnail_href": "/api/storage/res/thumbnail?img_type=tn&email=shebeer.i.k@gmail.com&storage_path=/anim3.jpeg"
        },
        {
          "metadata_hash": "2de6486c6c5fb2f3212e2180e1978628",
          "res_extension": "image/jpeg",
          "res_size": "6485",
          "content_hash": "5a93eca80e5d7310c5d2aea2954ba1c799658e1752100bae3641fba3d7e20a85840d8c6083b500f9787b19699e4d2df33199836f61fe5877b9f8ae3889b672f5",
          "modified_at": "2016-10-17T09:59:42",
          "created_at": "2016-10-17T09:59:42",
          "file_version": "0",
          "email": "shebeer.i.k@gmail.com",
          "status": "success",
          "res_type": "file",
          "res_name": "anim4.jpeg",
          "storage_path": "/anim4.jpeg",
          "permissions": "0100644",
          "thumbnail_href": "/api/storage/res/thumbnail?img_type=tn&email=shebeer.i.k@gmail.com&storage_path=/anim4.jpeg"
        }
      ],
      "last_key": {
        "metadata_hash": {
          "S": "1dec9323ad1370f77afbb5bfe057ca48"
        },
        "email": {
          "S": "test4img@gmail.com"
        },
        "storage_path": {
          "S": "/photos/canada/2e10b6a39f283581a85e85562dba24354a2c4ccb.jpg"
        },
        "content_hash": {
          "S": "b25277a79b1b98febbe2679d3c4e039a8e323e9eafc223df2a2cd135fd1eaab8c1c6c76b15d0666b9402be6439155dfc6e8feac892a2777d73a981b958e66b31"
        }
      },
      "quota_available_bytes": 1099511613175,
      "quota_used_bytes": 14601
    }
  }

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 403    | Error      | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  


#### Propfind Search

##### Get all the resources of a user with additional data(like thumbnail url).

GET /api/storage/res/propfind

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user  

###### Response Success (application/json)

* `status` (*String*) -- Status of propfind search
* `result` (*Object*, **optional**) -- result of search

###### Example
  {
    "status": "Contents Found",
    "result": {
      "file_data": [
        {
          "metadata_hash": "6647857ca72f7da6a9316d9100af2781",
          "res_extension": "image/jpeg",
          "res_size": "8116",
          "content_hash": "59d675b7501395306a09567f907bccee8ac6c055980ce4c71cde5cda3ccea376bc122d0db637627037c47e16df9195d8f35798e346e6bf01b504ec6b3d81f3c3",
          "modified_at": "2016-10-17T10:03:02",
          "created_at": "2016-10-17T10:03:02",
          "file_version": "0",
          "email": "shebeer.i.k@gmail.com",
          "status": "success",
          "res_type": "file",
          "res_name": "anim3.jpeg",
          "storage_path": "/anim3.jpeg",
          "permissions": "0100644",
          "thumbnail_href": "/api/storage/res/thumbnail?img_type=tn&email=shebeer.i.k@gmail.com&storage_path=/anim3.jpeg"
        },
        {
          "metadata_hash": "2de6486c6c5fb2f3212e2180e1978628",
          "res_extension": "image/jpeg",
          "res_size": "6485",
          "content_hash": "5a93eca80e5d7310c5d2aea2954ba1c799658e1752100bae3641fba3d7e20a85840d8c6083b500f9787b19699e4d2df33199836f61fe5877b9f8ae3889b672f5",
          "modified_at": "2016-10-17T09:59:42",
          "created_at": "2016-10-17T09:59:42",
          "file_version": "0",
          "email": "shebeer.i.k@gmail.com",
          "status": "success",
          "res_type": "file",
          "res_name": "anim4.jpeg",
          "storage_path": "/anim4.jpeg",
          "permissions": "0100644",
          "thumbnail_href": "/api/storage/res/thumbnail?img_type=tn&email=shebeer.i.k@gmail.com&storage_path=/anim4.jpeg"
        }
      ],
      "quota_available_bytes": 1099511613175,
      "quota_used_bytes": 14601
    }
  }

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |  
| ------ | ---------- | ------------------------------------- |  
| 200    | Success    |                                       |
| 403    | Error      | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  

#### Create Share Url

##### Create share url for a resource

PUT /api/storage/res/share

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email id of the user
* `storage_path` (*Number*, **required**) -- Global version of specific client of a user
* `modified_at` (*Number*, **required**) -- Created time of share url of resource
* `is_public` (*Number*, **optional**) -- Resource accessibility (private/public)
* `is_writable` (*Number*, **optional**) -- Access mode of resource (read/write)
* `shared_with_emails` (*Number*, **optional**) -- Comma-seperated emails of user

###### Response Success (application/json)

* `status` (*String*) -- Status of user global version update
* `share_url` (*Object*, **optional**) -- Object contains version difference between client and server and the latest version(server_version or client_version)

###### Example
    {
        'status': 'Created Share Url',
        'share_url': '/'
    }

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  

#### Get Shared Resource

##### Get shared resource for a specific share_id

GET /api/storage/res/share/:share_type/:share_id

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `share_id` (*String*, **required**) -- Share_id of the resource
* `share_type` (*String*, **required**) -- Share type either `private` or `public`.
* `sub_folder` (*Number*, **optional**) -- Sub folder name of the shared folder.
* `lastKey` (*Number*, **optional**) -- Last Key(at first it is null, then server will sent lastKey)


###### Response Success (application/json)


* `status` (*String*) -- Status of share resource retrieval
* `global_version` (*String*) -- Global version of user
* `results` (*String*) -- Array of child resources of folder
* `lastKey` (*String*) -- Status of share resource retrieval

           Or
* `file content` -- File Content as stream.


###### Example


###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  

#### SharedWithMe

##### Get Resource Shared With A User

GET /api/storage/res/share/me

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email of user

###### Response Success (application/json)

* `status` (*String*) -- Status of share resource retrieval
* `result` (*String*) -- Array of  of shared resources

###### Example

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  


#### SharedByMe

##### Get Resource Shared By A User

GET /api/storage/res/share

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Email of user

###### Response Success (application/json)

* `status` (*String*) -- Status of share resource retrieval
* `result` (*String*) -- Array of  of public shares and private shares.

###### Example

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  


#### Delete Share

##### Delete Share For A Specific Share-Id.

DELETE /api/storage/res/share

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `share_id` (*String*, **required**) -- Share Id of the share.

###### Response Success (application/json)

* `status` (*String*) -- Status of share resource retrieval
* `result` (*String*) -- Message of delete.

###### Example

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  


#### GetThumbnails

##### Get Thumbnails Of A Specified Resource.

GET /api/storage/res/thumbnail

###### Headers:

* `X-Authorization` (*String*, **required**) -- SessionId of the user

###### Parameters:

* `email` (*String*, **required**) -- Share Id of the share.
* `storage_path` (*String*, **required**) -- Share Id of the share.
* `img_type` (*String*, **optional**) -- Image type( `tn` or `pv`, 'tn' = thumbnail , 'pv' = preview , `default` = `tn`)

###### Response Success (application/json)

* `status` (*String*) -- Status of thumbnail generation.

                Or
* `file content` -- File Content as stream.

###### Example

###### Response Error (application/json)

* `status` (*String*) -- Status message.
* `error` (*String*) -- Error message.

###### Status Codes

| Code   | Type       | Message                               |
| ------ | ---------- | ------------------------------------- |
| 200    | Success    |                                       |
| 400    | Error      | Resource Not Found                    |
| 403    | Success    | Please Check Your Payload             |
| 500    | Error      | Internal Server Error                 |  
